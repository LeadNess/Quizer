{% extends "main/lecturerWrapper.html" %}

{% block content %}

{% load static %}

{% load main_extras %}

 	<div class='jumbotron'>
 		<h2>Результаты тестирований</h2><br>
 		<div>
 			<p>Здесь отображаются результаты тестирований по всем проведенным тестам.</p>
 			<hr>
			<div class="row">
				<div class="col-sm">
					<label class="my-1 mr-2">Предмет
		      			<select class="custom-select my-1 mr-sm-2" id="subject" required="required">
					  	{% for subject in subjects %}
					  		<option value="{{ subject }}">{{ subject }}</option>
					  	{% endfor %}
					    </select>
		      		</label>
		      	</div>
			</div>
			<div class="row">
				<div class="col-sm">
		      		<label class="my-1 mr-2">Преподаватель
		      			<select class="custom-select my-1 mr-sm-2" id="lecturer" required="required">
					  	{% for lecturer in lecturers %}
					  		<option value="{{ lecturer }}">{{ lecturer }}</option>
					  	{% endfor %}
					    </select>
		      		</label>
		      	</div>
			</div>
			<div class="row">
				<div class="col-sm">
		      		<label class="my-1 mr-2">Тест
		      			<select class="custom-select my-1 mr-sm-2" id="test" required="required">
					  	{% for test in tests %}
					  		<option value="{{ test }}">{{ test }}</option>
					  	{% endfor %}
					    </select>
		      		</label>
				</div>
			</div>
	    </div>
	    <hr>
	    <input class="form-control" type="text" placeholder="Искать..." id="search" onkeyup='tableSearch("search", "table")'>
		<table id="table" class="table table-hover">
		    <thead>
		      <tr>
		      	<th><img class="pointer" src='{% sort_icon %}' onclick="sortTableByNums('table', 0, true)"></th>
			      <th><img class="pointer" src='{% sort_icon %}' onclick="sortTable('table', 1)"> Дата запуска</th>
			      <th><img class="pointer" src='{% sort_icon %}' onclick="sortTable('table', 2)"> Прошло слушателей</th>
			      <th>Детальный результат</th>
		      </tr>
		  </thead>
		  <tbody id='table_body'></tbody>
		</table>
 	</div>
<script src="{% static 'main/js/table.js' %}"></script>
<script src="{% static 'main/js/testsResults.js' %}"></script>
<script type="text/javascript">
	main('{{ results }}', '{% deserialize_subjects subjects %}', '{% deserialize_tests tests %}', '{% deserialize_lecturers lecturers %}');
</script>

{% endblock %}